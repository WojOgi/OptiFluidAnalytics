<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- â•â•â• SEO & Social â•â•â• -->
  <title>OptiFluid Analytics â€” In-Situ Ellipsometry for Materials in Fluids</title>
  <meta name="description" content="Non-destructive, in-situ spectroscopic ellipsometry of thin films in liquids, vapors, and high-pressure gases. Sub-nanometer precision on thickness, refractive index, swelling, and degradation." />
  <meta name="keywords" content="ellipsometry, thin films, in-situ, polymer swelling, membrane science, optical constants, KAUST" />
  <meta property="og:title" content="OptiFluid Analytics â€” In-Situ Ellipsometry" />
  <meta property="og:description" content="Non-destructive, in-situ spectroscopic ellipsometry for thin films in liquids, vapors, and high-pressure gases." />
  <meta property="og:type" content="website" />
  <meta name="theme-color" content="#060d1a" />

  <!-- â•â•â• Security Headers â•â•â• -->
  <meta http-equiv="X-Content-Type-Options" content="nosniff" />
  <meta http-equiv="X-Frame-Options" content="DENY" />
  <meta name="referrer" content="strict-origin-when-cross-origin" />

  <!-- â•â•â• Typography (Google Fonts) â•â•â• -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;1,9..40,300&family=Space+Mono:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet" />

  <style>
    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       DESIGN TOKENS
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    :root {
      --bg-deep:   #060d1a;
      --bg-mid:    #0b1428;
      --bg-card:   #0d1a30;
      --bg-card2:  #111e34;
      --border:    rgba(255,255,255,0.07);
      --border-hi: rgba(110,231,183,0.25);

      --teal:      #6ee7b7;
      --teal-dim:  #3da47e;
      --violet:    #a78bfa;
      --violet-dim:#7c5cbf;
      --amber:     #fbbf24;

      --txt:       #f2f6ff;
      --txt-sub:   #b4c6e3;
      --txt-faint: #6f84a3;

      --font-head: 'Syne', sans-serif;
      --font-body: 'DM Sans', sans-serif;
      --font-mono: 'Space Mono', monospace;

      --rad-sm:  8px;
      --rad-md:  14px;
      --rad-lg:  22px;
      --rad-xl:  32px;

      --ease: cubic-bezier(.22,.68,0,1.2);
      --ease-smooth: cubic-bezier(.4,0,.2,1);
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       RESET & BASE
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    html { scroll-behavior: smooth; -webkit-text-size-adjust: 100%; }

    body {
      font-family: var(--font-body);
      font-size: 16px;
      line-height: 1.65;
      color: var(--txt);
      background: var(--bg-deep);
      overflow-x: hidden;
    }

    /* Accessibility: skip link */
    .skip-link {
      position: absolute;
      left: -9999px;
      top: 8px;
      background: var(--teal);
      color: #000;
      padding: 8px 16px;
      border-radius: var(--rad-sm);
      font-weight: 700;
      z-index: 9999;
      transition: left 0s;
    }
    .skip-link:focus { left: 8px; }

    /* Accessible focus rings */
    :focus-visible {
      outline: 2px solid var(--teal);
      outline-offset: 3px;
      border-radius: 4px;
    }

    a { color: inherit; text-decoration: none; }
    img { max-width: 100%; height: auto; display: block; }
    ul { list-style: none; }
    button { cursor: pointer; font-family: inherit; }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       SCIENTIFIC GRID BACKGROUND
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    body::before {
      content: '';
      position: fixed;
      inset: 0;
      background-image:
        linear-gradient(rgba(110,231,183,.025) 1px, transparent 1px),
        linear-gradient(90deg, rgba(110,231,183,.025) 1px, transparent 1px);
      background-size: 48px 48px;
      pointer-events: none;
      z-index: 0;
    }

    /* Atmospheric radial glow */
    body::after {
      content: '';
      position: fixed;
      top: -20%;
      left: 50%;
      transform: translateX(-50%);
      width: 900px;
      height: 600px;
      background: radial-gradient(ellipse, rgba(110,231,183,.06) 0%, rgba(167,139,250,.04) 40%, transparent 70%);
      pointer-events: none;
      z-index: 0;
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       LAYOUT HELPERS
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .container {
      max-width: 1140px;
      margin: 0 auto;
      padding: 0 28px;
    }
    section.container { padding-top: 100px; padding-bottom: 40px; }
    main { position: relative; z-index: 1; }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       TYPOGRAPHY
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    h1, h2, h3, h4 { font-family: var(--font-head); line-height: 1.1; }
    h1 { font-size: clamp(32px, 5.5vw, 58px); font-weight: 800; letter-spacing: -0.02em; }
    h2 { font-size: clamp(24px, 3.5vw, 40px); font-weight: 700; letter-spacing: -0.02em; margin-bottom: 16px; }
    h3 { font-size: 1.25rem; font-weight: 700; }
    h4 { font-size: 1rem; font-weight: 600; }

    .section-label {
      font-family: var(--font-mono);
      font-size: 0.72rem;
      letter-spacing: 0.14em;
      text-transform: uppercase;
      color: var(--teal);
      margin-bottom: 10px;
      display: block;
    }
    .section-header { text-align: center; margin-bottom: 56px; }
    .section-header p {
      max-width: 580px;
      margin: 14px auto 0;
      color: var(--txt-sub);
      font-size: 1.05rem;
    }

    p { color: var(--txt-sub); margin-bottom: 12px; }
    p:last-child { margin-bottom: 0; }

    strong { color: var(--txt); }

    .mono { font-family: var(--font-mono); font-size: 0.85em; }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       HEADER & NAV
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    header {
      position: sticky;
      top: 0;
      z-index: 100;
      backdrop-filter: blur(16px) saturate(180%);
      -webkit-backdrop-filter: blur(16px) saturate(180%);
      background: rgba(6,13,26,.85);
      border-bottom: 1px solid var(--border);
      transition: box-shadow 0.3s var(--ease-smooth);
    }
    header.scrolled { box-shadow: 0 4px 32px rgba(0,0,0,.4); }

    .nav-inner {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 16px 28px;
      max-width: 1140px;
      margin: 0 auto;
      gap: 16px;
    }

    /* Brand */
    .brand {
      font-family: var(--font-head);
      font-weight: 800;
      font-size: 1.15rem;
      letter-spacing: -0.02em;
      flex-shrink: 0;
    }
    .brand .accent { color: var(--teal); }

    /* Desktop nav */
    .nav-links {
      display: flex;
      align-items: center;
      gap: 4px;
    }
    .nav-links a {
      font-size: 0.9rem;
      font-weight: 500;
      color: var(--txt-sub);
      padding: 6px 14px;
      border-radius: var(--rad-sm);
      transition: color 0.2s, background 0.2s;
    }
    .nav-links a:hover, .nav-links a.active {
      color: var(--txt);
      background: rgba(255,255,255,.06);
    }

    /* CTA button in nav */
    .btn-nav {
      font-family: var(--font-head);
      font-size: 0.88rem;
      font-weight: 700;
      padding: 9px 20px;
      border-radius: var(--rad-xl);
      border: none;
      background: linear-gradient(135deg, var(--teal), var(--violet));
      color: #060d1a;
      letter-spacing: 0.01em;
      transition: transform 0.2s var(--ease), opacity 0.2s, box-shadow 0.2s;
      box-shadow: 0 0 20px rgba(110,231,183,.2);
      flex-shrink: 0;
    }
    .btn-nav:hover { transform: translateY(-2px) scale(1.02); box-shadow: 0 4px 24px rgba(110,231,183,.35); }
    .btn-nav:active { transform: scale(.98); }

    /* Hamburger (mobile) */
    .hamburger {
      display: none;
      flex-direction: column;
      gap: 5px;
      padding: 8px;
      background: none;
      border: none;
      border-radius: var(--rad-sm);
      transition: background 0.2s;
    }
    .hamburger:hover { background: rgba(255,255,255,.06); }
    .hamburger span {
      display: block;
      width: 22px;
      height: 2px;
      background: var(--txt);
      border-radius: 2px;
      transition: transform 0.3s var(--ease), opacity 0.3s;
    }
    .hamburger.open span:nth-child(1) { transform: translateY(7px) rotate(45deg); }
    .hamburger.open span:nth-child(2) { opacity: 0; }
    .hamburger.open span:nth-child(3) { transform: translateY(-7px) rotate(-45deg); }

    /* Mobile drawer */
    .mobile-menu {
      display: none;
      position: fixed;
      inset: 0;
      top: 0;
      z-index: 99;
      background: rgba(6,13,26,.97);
      backdrop-filter: blur(16px);
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 8px;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s var(--ease-smooth);
    }
    .mobile-menu.open { opacity: 1; pointer-events: all; }
    .mobile-menu a {
      font-family: var(--font-head);
      font-size: 2rem;
      font-weight: 700;
      color: var(--txt-sub);
      padding: 12px 32px;
      border-radius: var(--rad-md);
      transition: color 0.2s, background 0.2s;
      transform: translateY(20px);
      opacity: 0;
      transition: color 0.2s, background 0.2s, transform 0.4s var(--ease), opacity 0.4s;
    }
    .mobile-menu.open a { transform: translateY(0); opacity: 1; }
    .mobile-menu.open a:nth-child(1) { transition-delay: 0.05s; }
    .mobile-menu.open a:nth-child(2) { transition-delay: 0.1s; }
    .mobile-menu.open a:nth-child(3) { transition-delay: 0.15s; }
    .mobile-menu.open a:nth-child(4) { transition-delay: 0.2s; }
    .mobile-menu a:hover { color: var(--teal); background: rgba(110,231,183,.05); }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       HERO
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .hero {
      padding: 80px 28px 100px;
      text-align: center;
      max-width: 1140px;
      margin: 0 auto;
    }

    .kaust-badge {
      display: inline-flex;
      align-items: center;
      gap: 12px;
      background: rgba(255,255,255,.04);
      border: 1px solid var(--border);
      padding: 8px 20px 8px 10px;
      border-radius: var(--rad-xl);
      margin-bottom: 36px;
      font-size: 0.85rem;
      color: var(--txt-sub);
      transition: border-color 0.2s, background 0.2s;
    }
    .kaust-badge:hover { border-color: var(--border-hi); background: rgba(110,231,183,.03); }
    .kaust-badge img {
      height: 48px;
      width: auto;
      border-radius: 6px;
    }

    .hero h1 { margin-bottom: 20px; }

    .hero-gradient {
      background: linear-gradient(110deg, var(--teal) 20%, var(--violet) 80%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .hero p {
      font-size: 1.15rem;
      max-width: 640px;
      margin: 0 auto 36px;
      color: var(--txt-sub);
      line-height: 1.7;
    }

    /* Hero metric pills */
    .hero-metrics {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      justify-content: center;
      gap: 10px;
      margin-bottom: 40px;
    }
    .hero-metric {
      font-family: var(--font-mono);
      font-size: 0.78rem;
      color: var(--teal);
      background: rgba(110,231,183,.06);
      border: 1px solid rgba(110,231,183,.18);
      padding: 5px 14px;
      border-radius: var(--rad-xl);
      letter-spacing: 0.04em;
    }

    /* Hero CTA */
    .hero-cta { display: flex; flex-wrap: wrap; gap: 12px; justify-content: center; }

    .btn-primary {
      font-family: var(--font-head);
      font-weight: 700;
      font-size: 0.95rem;
      padding: 13px 28px;
      border-radius: var(--rad-xl);
      border: none;
      background: linear-gradient(135deg, var(--teal), var(--violet));
      color: #060d1a;
      letter-spacing: 0.01em;
      transition: transform 0.2s var(--ease), box-shadow 0.2s;
      box-shadow: 0 4px 24px rgba(110,231,183,.25);
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }
    .btn-primary:hover { transform: translateY(-2px) scale(1.02); box-shadow: 0 8px 32px rgba(110,231,183,.4); }
    .btn-primary:active { transform: scale(.98); }

    .btn-ghost {
      font-family: var(--font-head);
      font-weight: 600;
      font-size: 0.95rem;
      padding: 13px 28px;
      border-radius: var(--rad-xl);
      border: 1px solid var(--border);
      background: rgba(255,255,255,.03);
      color: var(--txt);
      transition: border-color 0.2s, background 0.2s, transform 0.2s var(--ease);
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }
    .btn-ghost:hover { border-color: rgba(255,255,255,.18); background: rgba(255,255,255,.06); transform: translateY(-1px); }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       STATS BAND
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .stats-band {
      border-top: 1px solid var(--border);
      border-bottom: 1px solid var(--border);
      padding: 32px 28px;
      margin: 0;
      background: rgba(255,255,255,.015);
      position: relative;
      z-index: 1;
    }
    .stats-inner {
      max-width: 1140px;
      margin: 0 auto;
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      justify-content: space-around;
      gap: 32px;
    }
    .stat-item { text-align: center; }
    .stat-number {
      font-family: var(--font-head);
      font-size: 2.4rem;
      font-weight: 800;
      color: var(--txt);
      line-height: 1;
      display: block;
    }
    .stat-number .unit { color: var(--teal); }
    .stat-label {
      font-family: var(--font-mono);
      font-size: 0.72rem;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      color: var(--txt-faint);
      margin-top: 4px;
      display: block;
    }
    .stat-divider {
      width: 1px;
      height: 48px;
      background: var(--border);
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       SERVICES GRID
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .services-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 20px;
    }

    .service-card {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: var(--rad-lg);
      overflow: hidden;
      position: relative;
      transition: border-color 0.3s, transform 0.3s var(--ease), box-shadow 0.3s;
      group: true;
    }
    .service-card:hover {
      border-color: var(--border-hi);
      transform: translateY(-4px);
      box-shadow: 0 16px 48px rgba(0,0,0,.35), 0 0 0 1px rgba(110,231,183,.08);
    }

    /* Card top accent line */
    .service-card::before {
      content: '';
      position: absolute;
      top: 0; left: 0; right: 0;
      height: 2px;
      background: linear-gradient(90deg, var(--teal), var(--violet));
      opacity: 0;
      transition: opacity 0.3s;
    }
    .service-card:hover::before { opacity: 1; }

    .service-card-body {
      padding: 36px;
      transition: opacity 0.25s var(--ease-smooth);
    }

    .service-icon {
      width: 44px;
      height: 44px;
      border-radius: var(--rad-sm);
      background: rgba(110,231,183,.08);
      border: 1px solid rgba(110,231,183,.15);
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 20px;
      font-size: 1.3rem;
      transition: background 0.2s, border-color 0.2s;
    }
    .service-card:hover .service-icon {
      background: rgba(110,231,183,.14);
      border-color: rgba(110,231,183,.3);
    }

    .service-card h3 {
      color: var(--txt);
      margin-bottom: 12px;
      font-size: 1.2rem;
    }
    .service-card p { font-size: 0.97rem; line-height: 1.75; }

    /* Spec chips */
    .spec-chips {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 20px;
    }
    .spec-chip {
      font-family: var(--font-mono);
      font-size: 0.72rem;
      color: var(--teal-dim);
      background: rgba(110,231,183,.05);
      border: 1px solid rgba(110,231,183,.12);
      padding: 3px 10px;
      border-radius: var(--rad-xl);
    }

    /* Image hover overlay */
    .service-card-image {
      position: absolute;
      inset: 0;
      opacity: 0;
      z-index: 2;
      transition: opacity 0.3s var(--ease-smooth);
      background: var(--bg-card2);
      pointer-events: none;
      display: flex;
      flex-direction: column;
      padding: 24px;
    }
    .service-card:hover .service-card-body { opacity: 0; }
    .service-card:hover .service-card-image { opacity: 1; }
    .service-card-image img {
      width: 100%;
      max-height: 50%;
      object-fit: contain;
      margin-bottom: 16px;
      flex-shrink: 0;
    }
    .service-card-citation {
      font-size: 0.85rem;
      line-height: 1.6;
      color: var(--txt-sub);
      padding-top: 12px;
      border-top: 1px solid var(--border);
      flex-shrink: 0;
    }
    .service-card-citation .ref-num {
      font-family: var(--font-mono);
      color: var(--txt-faint);
      margin-right: 8px;
    }
    .service-card-citation strong {
      color: var(--txt);
      font-weight: 600;
    }
    .service-card-citation em {
      color: var(--txt-faint);
      font-style: italic;
    }

    /* Roadmap badge */
    .roadmap-pill {
      display: inline-flex;
      align-items: center;
      gap: 5px;
      font-family: var(--font-mono);
      font-size: 0.68rem;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      background: rgba(167,139,250,.1);
      border: 1px solid rgba(167,139,250,.25);
      color: var(--violet);
      padding: 3px 10px;
      border-radius: var(--rad-xl);
      vertical-align: middle;
      margin-left: 10px;
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       ABOUT
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .about-card {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: var(--rad-lg);
      padding: 48px;
      max-width: 1050px;
      margin: 0 auto;
    }
    .about-inner { display: grid; grid-template-columns: 1fr 1.2fr; gap: 52px; align-items: start; }

    .about-img-wrap {
      position: relative;
    }
    .about-img-wrap::after {
      content: '';
      position: absolute;
      inset: -1px;
      border-radius: var(--rad-md);
      background: linear-gradient(135deg, rgba(110,231,183,.15), rgba(167,139,250,.08), transparent);
      pointer-events: none;
    }
    .about-img {
      width: 100%;
      border-radius: var(--rad-md);
      object-fit: contain;
      border: 1px solid var(--border);
      background: var(--bg-mid);
    }
    .img-caption {
      font-size: 0.78rem;
      color: var(--txt-faint);
      margin-top: 10px;
      line-height: 1.5;
      text-align: center;
      font-style: italic;
    }

    .about-name {
      font-family: var(--font-head);
      font-size: 1.6rem;
      font-weight: 800;
      color: var(--txt);
      margin-bottom: 6px;
    }
    .about-title {
      font-family: var(--font-mono);
      font-size: 0.8rem;
      color: var(--teal);
      letter-spacing: 0.08em;
      text-transform: uppercase;
      margin-bottom: 20px;
    }

    .about-links {
      margin-top: 28px;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    .about-link {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      font-size: 0.9rem;
      color: var(--teal);
      border-bottom: 1px solid transparent;
      transition: border-color 0.2s, color 0.2s;
      width: fit-content;
    }
    .about-link:hover { border-color: var(--teal); color: #9cf3d5; }
    .about-link.purple { color: var(--violet); }
    .about-link.purple:hover { border-color: var(--violet); color: #c4aaff; }
    .about-link-label {
      font-family: var(--font-mono);
      font-size: 0.72rem;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: var(--txt-faint);
      display: block;
      margin-top: 2px;
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       CONTACT / FORM
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .contact-grid {
      display: grid;
      grid-template-columns: 1fr 1.7fr;
      gap: 28px;
      max-width: 1050px;
      margin: 0 auto;
      align-items: start;
    }

    .contact-info {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: var(--rad-lg);
      padding: 36px;
    }
    .contact-info h3 { color: var(--txt); margin-bottom: 16px; }

    .vp-grid {
      margin-top: 28px;
      display: flex;
      flex-direction: column;
      gap: 20px;
    }
    .vp-item {
      padding: 16px;
      background: rgba(255,255,255,.02);
      border: 1px solid var(--border);
      border-radius: var(--rad-md);
      transition: border-color 0.2s;
    }
    .vp-item:hover { border-color: var(--border-hi); }
    .vp-item h4 {
      color: var(--violet);
      margin-bottom: 8px;
      font-size: 0.9rem;
    }
    .vp-item p {
      font-size: 0.85rem;
      line-height: 1.6;
      margin-bottom: 6px;
    }
    .vp-item .highlight { color: var(--teal); font-size: 0.82rem; }

    /* Form card */
    .form-card {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: var(--rad-lg);
      padding: 40px;
    }
    .form-card h3 { color: var(--txt); margin-bottom: 24px; }

    .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }

    .field { margin-bottom: 18px; }
    .field label {
      display: block;
      font-size: 0.82rem;
      font-weight: 600;
      color: var(--txt-sub);
      margin-bottom: 6px;
      letter-spacing: 0.02em;
    }
    .field label .req { color: var(--teal); margin-left: 2px; }

    .field input,
    .field textarea,
    .field select {
      width: 100%;
      padding: 11px 14px;
      border-radius: var(--rad-sm);
      border: 1px solid rgba(255,255,255,.1);
      background: rgba(255,255,255,.03);
      color: var(--txt);
      font-family: var(--font-body);
      font-size: 0.95rem;
      transition: border-color 0.2s, background 0.2s, box-shadow 0.2s;
      /* iOS: prevent zoom */
      font-size: max(16px, 0.95rem);
      -webkit-appearance: none;
      appearance: none;
    }
    .field input:focus,
    .field textarea:focus,
    .field select:focus {
      outline: none;
      border-color: var(--teal);
      background: rgba(110,231,183,.03);
      box-shadow: 0 0 0 3px rgba(110,231,183,.08);
    }
    .field input.error,
    .field textarea.error,
    .field select.error {
      border-color: #f87171;
      box-shadow: 0 0 0 3px rgba(248,113,113,.08);
    }
    .field-error {
      font-size: 0.78rem;
      color: #f87171;
      margin-top: 4px;
      display: none;
    }
    .field.has-error .field-error { display: block; }

    .field select option { background: var(--bg-mid); }
    .field textarea { resize: vertical; min-height: 120px; }

    /* Privacy notice */
    .privacy-note {
      font-size: 0.78rem;
      color: var(--txt-faint);
      margin-top: 16px;
      line-height: 1.5;
      padding: 12px;
      background: rgba(255,255,255,.02);
      border-radius: var(--rad-sm);
      border-left: 2px solid rgba(255,255,255,.1);
    }
    .privacy-note a { color: var(--txt-sub); text-decoration: underline; }

    /* Submit button */
    .submit-btn {
      width: 100%;
      padding: 13px;
      margin-top: 4px;
      border: none;
      border-radius: var(--rad-md);
      background: linear-gradient(135deg, var(--teal), var(--violet));
      color: #060d1a;
      font-family: var(--font-head);
      font-weight: 700;
      font-size: 1rem;
      letter-spacing: 0.01em;
      cursor: pointer;
      transition: transform 0.2s var(--ease), box-shadow 0.2s, opacity 0.2s;
      box-shadow: 0 4px 20px rgba(110,231,183,.2);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }
    .submit-btn:hover { transform: translateY(-2px); box-shadow: 0 8px 32px rgba(110,231,183,.35); }
    .submit-btn:active { transform: scale(.98); }
    .submit-btn:disabled { opacity: .6; cursor: not-allowed; transform: none; }
    .submit-btn .spinner {
      width: 18px; height: 18px;
      border: 2px solid rgba(0,0,0,.3);
      border-top-color: #060d1a;
      border-radius: 50%;
      animation: spin .7s linear infinite;
      display: none;
    }
    .submit-btn.loading .spinner { display: block; }
    .submit-btn.loading .btn-text { display: none; }
    @keyframes spin { to { transform: rotate(360deg); } }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       TOAST NOTIFICATION
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    #toast {
      position: fixed;
      bottom: 28px;
      left: 50%;
      transform: translateX(-50%) translateY(80px);
      background: var(--bg-card2);
      border: 1px solid var(--border);
      border-radius: var(--rad-md);
      padding: 14px 24px;
      display: flex;
      align-items: center;
      gap: 12px;
      font-size: 0.92rem;
      color: var(--txt);
      z-index: 9999;
      transition: transform 0.4s var(--ease), opacity 0.4s;
      opacity: 0;
      box-shadow: 0 8px 40px rgba(0,0,0,.5);
      max-width: 90vw;
      text-align: center;
    }
    #toast.show { transform: translateX(-50%) translateY(0); opacity: 1; }
    #toast.success { border-color: rgba(110,231,183,.3); }
    #toast.error { border-color: rgba(248,113,113,.3); }
    .toast-icon { font-size: 1.3rem; flex-shrink: 0; }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       REFERENCES
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .refs-card {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: var(--rad-lg);
      max-width: 1050px;
      margin: 0 auto;
      overflow: hidden;
    }
    .refs-header {
      padding: 24px 36px;
      border-bottom: 1px solid var(--border);
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    .refs-count {
      font-family: var(--font-mono);
      font-size: 0.75rem;
      color: var(--txt-faint);
    }
    .refs-body {
      padding: 8px 36px;
      max-height: 460px;
      overflow-y: auto;
      overscroll-behavior: contain;
    }
    /* Custom scrollbar */
    .refs-body::-webkit-scrollbar { width: 5px; }
    .refs-body::-webkit-scrollbar-track { background: transparent; }
    .refs-body::-webkit-scrollbar-thumb { background: #1e3050; border-radius: 4px; }
    .refs-body::-webkit-scrollbar-thumb:hover { background: var(--teal-dim); }

    .ref-item {
      display: grid;
      grid-template-columns: auto 1fr;
      gap: 14px;
      padding: 18px 0;
      border-bottom: 1px solid var(--border);
      align-items: start;
    }
    .ref-item:last-child { border-bottom: none; }
    .ref-num {
      font-family: var(--font-mono);
      font-size: 0.72rem;
      color: var(--txt-faint);
      padding-top: 2px;
      min-width: 28px;
      text-align: right;
    }
    .ref-body { font-size: 0.9rem; line-height: 1.65; color: var(--txt-sub); }
    .ref-body strong { color: var(--txt); }
    .ref-body em { color: var(--txt-faint); }
    .ref-link {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      font-family: var(--font-mono);
      font-size: 0.72rem;
      color: var(--teal);
      border: 1px solid rgba(110,231,183,.2);
      padding: 2px 8px;
      border-radius: var(--rad-xl);
      margin-top: 4px;
      transition: background 0.2s, border-color 0.2s;
    }
    .ref-link:hover { background: rgba(110,231,183,.06); border-color: rgba(110,231,183,.35); }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       SCROLL-IN ANIMATIONS
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .reveal {
      opacity: 0;
      transform: translateY(28px);
      transition: opacity 0.6s var(--ease-smooth), transform 0.6s var(--ease-smooth);
    }
    .reveal.visible { opacity: 1; transform: translateY(0); }
    .reveal-delay-1 { transition-delay: 0.1s; }
    .reveal-delay-2 { transition-delay: 0.2s; }
    .reveal-delay-3 { transition-delay: 0.3s; }
    .reveal-delay-4 { transition-delay: 0.4s; }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       FOOTER
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    footer {
      border-top: 1px solid var(--border);
      padding: 32px 28px;
      text-align: center;
      color: var(--txt-faint);
      font-size: 0.82rem;
      margin-top: 80px;
      position: relative;
      z-index: 1;
    }
    footer .footer-inner {
      max-width: 1140px;
      margin: 0 auto;
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
    }
    footer .brand-small { font-family: var(--font-head); font-weight: 700; color: var(--txt-sub); }
    footer .brand-small .accent { color: var(--teal); }
    .footer-links { display: flex; gap: 20px; flex-wrap: wrap; justify-content: center; }
    .footer-links a { color: var(--txt-faint); transition: color 0.2s; }
    .footer-links a:hover { color: var(--txt-sub); }
    .footer-legal { font-family: var(--font-mono); font-size: 0.7rem; }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       RESPONSIVE
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    @media (max-width: 900px) {
      .services-grid { grid-template-columns: 1fr; }
      .about-inner { grid-template-columns: 1fr; }
      .contact-grid { grid-template-columns: 1fr; }
      .stat-divider { display: none; }
    }

    @media (max-width: 680px) {
      section.container { padding-top: 72px; }
      .hero { padding: 52px 20px 72px; }
      .nav-links, .btn-nav { display: none; }
      .hamburger { display: flex; }
      .mobile-menu { display: flex; }
      .form-row { grid-template-columns: 1fr; }
      .kaust-badge { flex-direction: column; text-align: center; padding: 12px 16px; border-radius: var(--rad-lg); }
      .about-card { padding: 28px 20px; }
      .form-card { padding: 28px 20px; }
      .contact-info { padding: 28px 20px; }
    }

    @media (prefers-reduced-motion: reduce) {
      *, *::before, *::after {
        animation-duration: 0.01ms !important;
        transition-duration: 0.01ms !important;
      }
      .reveal { opacity: 1; transform: none; }
    }
  </style>
</head>
<body>

  <!-- Skip to main content (accessibility) -->
  <a class="skip-link" href="#main-content">Skip to main content</a>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       HEADER
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <header id="site-header" role="banner">
    <div class="nav-inner">
      <a href="#" class="brand" aria-label="OptiFluid Analytics â€” Home">
        OptiFluid <span class="accent">Analytics</span>
      </a>

      <nav class="nav-links" aria-label="Primary navigation">
        <a href="#services">Services</a>
        <a href="#about">About</a>
        <a href="#contact">Contact</a>
        <a href="#references">References</a>
      </nav>

      <a href="#contact" class="btn-nav" aria-label="Request an analysis">Request analysis</a>

      <button class="hamburger" id="menu-toggle" aria-expanded="false" aria-controls="mobile-menu" aria-label="Open navigation menu">
        <span></span><span></span><span></span>
      </button>
    </div>
  </header>

  <!-- Mobile menu -->
  <div class="mobile-menu" id="mobile-menu" role="dialog" aria-modal="true" aria-label="Navigation">
    <a href="#services" class="mobile-nav-link">Services</a>
    <a href="#about" class="mobile-nav-link">About</a>
    <a href="#contact" class="mobile-nav-link">Contact</a>
    <a href="#references" class="mobile-nav-link">References</a>
  </div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       MAIN
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <main id="main-content">

    <!-- HERO -->
    <section class="hero" aria-labelledby="hero-heading">

      <a href="https://www.kaust.edu.sa" target="_blank" rel="noopener noreferrer" class="kaust-badge reveal" aria-label="KAUST â€” King Abdullah University of Science and Technology">
        <img src="./kaustlogo.jpg" alt="KAUST logo" width="80" height="48" />
        <span>Supported by King Abdullah University of Science and Technology</span>
      </a>

      <h1 id="hero-heading" class="reveal reveal-delay-1">
        Shedding light on<br>
        <span class="hero-gradient">materials in fluids</span>
      </h1>

      <p class="reveal reveal-delay-2">
        Non-destructive, in-situ spectroscopic ellipsometry for thin films interacting
        with liquids, vapors, and high-pressure gases â€” sub-nanometer precision, real-time data.
      </p>

      <div class="hero-metrics reveal reveal-delay-3" role="list" aria-label="Key specifications">
        <span class="hero-metric" role="listitem">UVâ€“Visâ€“NearIR</span>
        <span class="hero-metric" role="listitem">âˆ’50 Â°C â†’ 560 Â°C</span>
        <span class="hero-metric" role="listitem">Sub-nm resolution</span>
        <span class="hero-metric" role="listitem">Real-time kinetics</span>
        <span class="hero-metric" role="listitem">60+ publications</span>
      </div>

      <div class="hero-cta reveal reveal-delay-4">
        <a href="#contact" class="btn-primary">
          Start a project
          <span aria-hidden="true">â†’</span>
        </a>
        <a href="#services" class="btn-ghost">
          Explore capabilities
        </a>
      </div>
    </section>

    <!-- STATS BAND -->
    <div class="stats-band" aria-label="Key metrics">
      <div class="stats-inner">
        <div class="stat-item reveal">
          <span class="stat-number"><span class="count" data-target="60">0</span><span class="unit">+</span></span>
          <span class="stat-label">Publications</span>
        </div>
        <div class="stat-divider" aria-hidden="true"></div>
        <div class="stat-item reveal reveal-delay-1">
          <span class="stat-number"><span class="count" data-target="15">0</span><span class="unit">+</span></span>
          <span class="stat-label">Years expertise</span>
        </div>
        <div class="stat-divider" aria-hidden="true"></div>
        <div class="stat-item reveal reveal-delay-2">
          <span class="stat-number"><span class="unit">Fluids</span></span>
          <span class="stat-label">Water Â· Organics Â· Acids Â· Bases</span>
        </div>
        <div class="stat-divider" aria-hidden="true"></div>
        <div class="stat-item reveal reveal-delay-3">
          <span class="stat-number"><span class="unit">&gt;</span><span class="count" data-target="50">0</span><span class="unit"> bar</span></span>
          <span class="stat-label">Upcoming HP capability</span>
        </div>
      </div>
    </div>

    <!-- SERVICES -->
    <section id="services" class="container" aria-labelledby="services-heading">
      <div class="section-header reveal">
        <span class="section-label">Analytical Capabilities</span>
        <h2 id="services-heading">What we measure</h2>
        <p>Customized environmental experiments from ambient to extreme conditions â€” designed around your material and research question.</p>
      </div>

      <div class="services-grid" role="list">

        <article class="service-card hover-reveal reveal" role="listitem" aria-label="Thermal Dynamics capability">
          <div class="service-card-body">
            <div class="service-icon" aria-hidden="true">ğŸŒ¡ï¸</div>
            <h3>Thermal Dynamics &amp; Atmosphere</h3>
            <p>Precise characterization over an extreme temperature range under controlled atmospheres. Detect degradation onset and kinetics, glass transition (Tg), residual mass, solid-state reactions, phase transitions, and dewetting with real-time optical data.</p>
            <div class="spec-chips" aria-label="Specifications">
              <span class="spec-chip">âˆ’50 Â°C to 560 Â°C</span>
              <span class="spec-chip">Vacuum / Nâ‚‚ / Air</span>
              <span class="spec-chip">Kinetic analysis</span>
              <span class="spec-chip">Phase transitions</span>
            </div>
          </div>
          <div class="service-card-image" aria-hidden="true">
            <img src="./image1.jpg" alt="Thermal dynamics ellipsometry setup" />
            <div class="service-card-citation">
              <span class="ref-num">[22]</span>
              <strong>W. Ogieglo</strong>, H. Wormeester, M. Wessling, N.E. Benes. Temperature-induced transition of the diffusion mechanism of n-hexane in ultra-thin polystyrene films, resolved by in-situ spectroscopic ellipsometry. <em>Polymer</em> 54(1) (2013) 341-348.
              <br><a href="https://doi.org/10.1016/j.polymer.2012.11.038" target="_blank" rel="noopener noreferrer" class="ref-link">DOI â†—</a>
            </div>
          </div>
        </article>

        <article class="service-card hover-reveal reveal reveal-delay-1" role="listitem" aria-label="Fluid and Vapor Interactions capability">
          <div class="service-card-body">
            <div class="service-icon" aria-hidden="true">ğŸ’§</div>
            <h3>Fluid &amp; Vapor Interactions</h3>
            <p>Real-time monitoring during immersion in complex liquids â€” organics, acids, bases â€” or controlled vapor environments including binary mixtures. Ideal for swelling magnitude and kinetics, sorption capacity, dissolution rates, and morphological stability.</p>
            <div class="spec-chips" aria-label="Specifications">
              <span class="spec-chip">Liquids &amp; vapors</span>
              <span class="spec-chip">Binary mixtures</span>
              <span class="spec-chip">Swelling kinetics</span>
              <span class="spec-chip">Near room temp</span>
            </div>
          </div>
          <div class="service-card-image" aria-hidden="true">
            <img src="./image2.jpg" alt="Fluid interactions ellipsometry setup" />
            <div class="service-card-citation">
              <span class="ref-num">[9]</span>
              <strong>W. Ogieglo</strong>, K. Tempelman, S. Napolitano, N.E. Benes. Evidence of a transition layer between the free surface and the bulk. <em>Journal of Physical Chemistry Letters</em> 9(6) (2018) 1195â€“1199.
              <br><a href="https://doi.org/10.1021/acs.jpclett.8b00076" target="_blank" rel="noopener noreferrer" class="ref-link">DOI â†—</a>
            </div>
          </div>
        </article>

        <article class="service-card hover-reveal reveal reveal-delay-2" role="listitem" aria-label="Thickness and Optical Constants capability">
          <div class="service-card-body">
            <div class="service-icon" aria-hidden="true">ğŸ“</div>
            <h3>Thickness &amp; Optical Constants</h3>
            <p>Absolute film thickness from sub-nanometer to microns, and optical constants (n, k) across UVâ€“Visâ€“NearIR on diverse substrates. Advanced optical modeling for complex multi-layer stacks, porous architectures, and composite materials.</p>
            <div class="spec-chips" aria-label="Specifications">
              <span class="spec-chip">Sub-nm precision</span>
              <span class="spec-chip">n, k determination</span>
              <span class="spec-chip">Multi-layer stacks</span>
              <span class="spec-chip">Porous films</span>
            </div>
          </div>
          <div class="service-card-image" aria-hidden="true">
            <img src="./image3.jpg" alt="Optical constants modeling data" />
            <div class="service-card-citation">
              <span class="ref-num">[5]</span>
              <strong>W. Ogieglo</strong>, J.A. Idarraga-Mora, S.M. Husson, I. Pinnau. Direct ellipsometry for non-destructive characterization of interfacially-polymerized thin-film composite membranes. <em>Journal of Membrane Science</em> 608 (2020).
              <br><a href="https://doi.org/10.1016/j.memsci.2020.118174" target="_blank" rel="noopener noreferrer" class="ref-link">DOI â†—</a>
            </div>
          </div>
        </article>

        <article class="service-card hover-reveal reveal reveal-delay-3" role="listitem" aria-label="High-pressure gas capability â€” upcoming" style="border-style: dashed; border-color: rgba(167,139,250,.2);">
          <div class="service-card-body">
            <div class="service-icon" style="background:rgba(167,139,250,.08); border-color:rgba(167,139,250,.2);" aria-hidden="true">âš—ï¸</div>
            <h3>
              High-Pressure Gas
              <span class="roadmap-pill">
                <span aria-hidden="true">â–¸</span> Upcoming
              </span>
            </h3>
            <p>In active development: in-situ ellipsometry under high-pressure fluids â€” COâ‚‚, CHâ‚„, Nâ‚‚, Hâ‚‚ up to 50 bar. Enables direct observation of gas sorption, material stability, and plasticization at industrially-relevant conditions.</p>
            <div class="spec-chips" aria-label="Specifications">
              <span class="spec-chip" style="color:var(--violet-dim); border-color:rgba(167,139,250,.15);">Up to 50 bar</span>
              <span class="spec-chip" style="color:var(--violet-dim); border-color:rgba(167,139,250,.15);">COâ‚‚ / CHâ‚„ / Nâ‚‚ / Hâ‚‚</span>
              <span class="spec-chip" style="color:var(--violet-dim); border-color:rgba(167,139,250,.15);">Plasticization</span>
            </div>
          </div>
          <div class="service-card-image" aria-hidden="true">
            <img src="./image4.jpg" alt="High pressure ellipsometry concept" />
            <div class="service-card-citation">
              <span class="ref-num">[19]</span>
              <strong>W. Ogieglo</strong>, H. van der Werf, K. Tempelman, H. Wormeester, M. Wessling, A. Nijmeijer, N.E. Benes. N-hexane induced swelling of thin PDMS films under non-equilibrium nanofiltration permeation conditions, resolved by spectroscopic ellipsometry. <em>Journal of Membrane Science</em> 437 (2013) 313â€“323.
              <br><a href="https://doi.org/10.1016/j.memsci.2013.04.039" target="_blank" rel="noopener noreferrer" class="ref-link">DOI â†—</a>
            </div>
          </div>
        </article>

      </div>
    </section>

    <!-- ABOUT -->
    <section id="about" class="container" aria-labelledby="about-heading">
      <div class="section-header reveal">
        <span class="section-label">About the Expertise</span>
        <h2 id="about-heading">Who you're working with</h2>
      </div>

      <div class="about-card reveal">
        <div class="about-inner">

          <div class="about-img-wrap">
            <img
              src="./Picture1.jpg"
              alt="Laboratory setup showing in-situ ellipsometry on a liquid-immersed membrane â€” from Dr. Ogieglo's published research"
              class="about-img"
            />
            <p class="img-caption">
              In-situ non-invasive imaging of liquid-immersed thin film composite membranes.<br>
              <em>W. Ogieglo, I. Pinnau, M. Wessling â€” J. Membr. Sci. 546 (2018) 206â€“214.</em>
            </p>
          </div>

          <div>
            <p class="about-title">Research Scientist Â· KAUST</p>
            <h3 class="about-name">Dr. Wojciech Ogieglo</h3>

            <p>Over a decade of specialized experience in polymer thin films, membrane science, and in-situ ellipsometry, supported by 60+ high-impact peer-reviewed articles.</p>
            <p>Our infrastructure goes beyond standard ambient measurements â€” offering customized environmental experiments to simulate real-world industrial conditions. We operate in full compliance with institutional technology transfer frameworks.</p>
            <p>Whether you need to characterize a novel coating, understand membrane stability, or quantify gas uptake at process conditions, we design the experiment around your specific question.</p>

            <div class="about-links" aria-label="Contact and profile links">
              <div>
                <span class="about-link-label">KAUST email</span>
                <a href="mailto:wojciech.ogieglo@kaust.edu.sa" class="about-link">
                  wojciech.ogieglo@kaust.edu.sa
                </a>
              </div>
              <div>
                <span class="about-link-label">Personal email</span>
                <a href="mailto:w.ogieglo@gmail.com" class="about-link">
                  w.ogieglo@gmail.com
                </a>
              </div>
              <div>
                <span class="about-link-label">Academic profile</span>
                <a href="https://scholar.google.com/citations?user=jVv7iDEAAAAJ" target="_blank" rel="noopener noreferrer" class="about-link purple">
                  Google Scholar â†—
                </a>
              </div>
              <div>
                <span class="about-link-label">PhD thesis</span>
                <a href="http://dx.doi.org/10.3990/1.9789036536318" target="_blank" rel="noopener noreferrer" class="about-link purple">
                  In-situ spectroscopic ellipsometry for thin films and membranes â†—
                </a>
              </div>
            </div>
          </div>

        </div>
      </div>
    </section>

    <!-- CONTACT -->
    <section id="contact" class="container" aria-labelledby="contact-heading">
      <div class="section-header reveal">
        <span class="section-label">Get in Touch</span>
        <h2 id="contact-heading">Request an analysis</h2>
        <p>Tell us about your film, the environment you need tested, and your research goal. We'll respond to discuss feasibility, setup design, and timelines.</p>
      </div>

      <div class="contact-grid">

        <!-- Left: value props -->
        <aside class="contact-info reveal" aria-labelledby="vp-heading">
          <h3 id="vp-heading">What you'll get</h3>
          <p>Precision data tailored to your material and process conditions â€” not off-the-shelf measurements.</p>

          <div class="vp-grid">
            <div class="vp-item">
              <h4>ğŸŒ¡ï¸ Thermal stability</h4>
              <p>Identify degradation onsets and glass transitions before failure occurs in the field.</p>
              <span class="highlight">â†’ Protect product quality</span>
            </div>
            <div class="vp-item">
              <h4>ğŸ’§ Swelling &amp; sorption</h4>
              <p>Real-time kinetics during liquid or vapor exposure for membranes, coatings, and drug carriers.</p>
              <span class="highlight">â†’ Optimize material lifetime</span>
            </div>
            <div class="vp-item">
              <h4>ğŸ“ Optical constants</h4>
              <p>Accurate n, k, and thickness for optical device design, QC, and multilayer modeling.</p>
              <span class="highlight">â†’ Accelerate development</span>
            </div>
            <div class="vp-item">
              <h4>âš—ï¸ High-pressure (coming)</h4>
              <p>Gas sorption and material stability at industrially-relevant pressures up to 50 bar.</p>
              <span class="highlight">â†’ Predict field performance</span>
            </div>
          </div>
        </aside>

        <!-- Right: form -->
        <div class="form-card reveal reveal-delay-1">
          <h3>Send a request</h3>

          <form
            id="contact-form"
            action="https://formspree.io/f/mzzkvgnv"
            method="POST"
            novalidate
            aria-label="Analysis request form"
          >
            <!-- Honeypot (anti-spam) â€” hidden from real users -->
            <div style="display:none" aria-hidden="true">
              <label>Do not fill this field: <input type="text" name="_gotcha" tabindex="-1" autocomplete="off"></label>
            </div>
            <input type="hidden" name="_subject" value="OptiFluid Analytics â€” New Analysis Request">
            <input type="hidden" name="_replyto" id="reply-to-hidden">

            <div class="form-row">
              <div class="field" id="field-name">
                <label for="inp-name">Name <span class="req" aria-label="required">*</span></label>
                <input
                  type="text"
                  id="inp-name"
                  name="name"
                  autocomplete="name"
                  required
                  aria-required="true"
                  aria-describedby="err-name"
                  placeholder="Jane Smith"
                />
                <span class="field-error" id="err-name" role="alert">Please enter your name.</span>
              </div>
              <div class="field" id="field-email">
                <label for="inp-email">Email <span class="req" aria-label="required">*</span></label>
                <input
                  type="email"
                  id="inp-email"
                  name="email"
                  autocomplete="email"
                  inputmode="email"
                  required
                  aria-required="true"
                  aria-describedby="err-email"
                  placeholder="jane@university.edu"
                />
                <span class="field-error" id="err-email" role="alert">Please enter a valid email address.</span>
              </div>
            </div>

            <div class="form-row">
              <div class="field" id="field-org">
                <label for="inp-org">Organization / Company</label>
                <input
                  type="text"
                  id="inp-org"
                  name="organization"
                  autocomplete="organization"
                  placeholder="University / Company name"
                />
              </div>
              <div class="field" id="field-usecase">
                <label for="inp-usecase">Primary interest <span class="req" aria-label="required">*</span></label>
                <select
                  id="inp-usecase"
                  name="primary_interest"
                  required
                  aria-required="true"
                  aria-describedby="err-usecase"
                >
                  <option value="" disabled selected>Select a capabilityâ€¦</option>
                  <option value="General Consulting">General Consulting</option>
                  <option value="Thermal Dynamics">Thermal Dynamics (âˆ’50 to 560 Â°C)</option>
                  <option value="Liquid / Vapor Swelling">Liquid / Mixed Vapor Swelling</option>
                  <option value="Thickness & n,k Modeling">Thickness &amp; n,k Modeling</option>
                  <option value="High-Pressure Capability">Future High-Pressure Capability</option>
                </select>
                <span class="field-error" id="err-usecase" role="alert">Please select an option.</span>
              </div>
            </div>

            <div class="field" id="field-message">
              <label for="inp-message">Experiment &amp; sample details <span class="req" aria-label="required">*</span></label>
              <textarea
                id="inp-message"
                name="message"
                required
                aria-required="true"
                aria-describedby="err-message"
                placeholder="Briefly describe your sample (e.g., polymer coating, RO membrane, 100 nm PDMS on Si) and the specific conditions you need tested (fluid type, temperature range, goal)."
                rows="5"
              ></textarea>
              <span class="field-error" id="err-message" role="alert">Please describe your experiment.</span>
            </div>

            <p class="privacy-note" aria-live="polite">
              ğŸ”’ Your information is used only to respond to your request.
              We don't store it beyond Formspree's processing, and we won't share it with third parties.
              See <a href="https://formspree.io/legal/privacy-policy" target="_blank" rel="noopener noreferrer">Formspree's privacy policy</a>.
            </p>

            <button type="submit" class="submit-btn" aria-live="polite">
              <span class="btn-text">Send Request â†’</span>
              <div class="spinner" role="status" aria-label="Sendingâ€¦"></div>
            </button>

          </form>
        </div>

      </div>
    </section>

    <!-- REFERENCES -->
    <section id="references" class="container" aria-labelledby="refs-heading">
      <div class="section-header reveal">
        <span class="section-label">Scientific Foundation</span>
        <h2 id="refs-heading">Selected publications</h2>
        <p>Peer-reviewed research underpinning the methods and expertise offered.</p>
      </div>

      <div class="refs-card reveal">
        <div class="refs-header">
          <span class="section-label" style="margin:0">W. Ogieglo â€” First author</span>
          <span class="refs-count">23 selected Â· scroll to view all</span>
        </div>
        <div class="refs-body" tabindex="0" role="region" aria-label="Publications list â€” scrollable">
          <ol class="ref-list" aria-label="Publication list">

            <li class="ref-item">
              <span class="ref-num">[1]</span>
              <div class="ref-body">
                <strong>W. Ogieglo</strong>, K. Knozowska, T. Puspasari, Z. Ali, J. Kujawa, E. Korczeniewski, A.P. Terzyk, W. Kujawski, I. Pinnau. Unlocking complex chemical and morphological transformations during thermal treatment of o-hydroxyl-substituted polyimide of intrinsic microporosity.
                <em>Journal of Membrane Science</em> 684 (2023).
                <br><a href="https://doi.org/10.1016/j.memsci.2023.121881" target="_blank" rel="noopener noreferrer" class="ref-link">DOI â†—</a>
              </div>
            </li>

            <li class="ref-item">
              <span class="ref-num">[2]</span>
              <div class="ref-body">
                <strong>W. Ogieglo</strong>, K. Song, C. Chen, Q. Lei, Y. Han, I. Pinnau. Nano-confinement effects on structural development and organic solvent-induced swelling of ultrathin carbon molecular sieve films.
                <em>ACS Applied Materials &amp; Interfaces</em> 13(18) (2021) 21765â€“21774.
                <br><a href="https://doi.org/10.1021/acsami.1c03392" target="_blank" rel="noopener noreferrer" class="ref-link">DOI â†—</a>
              </div>
            </li>

            <li class="ref-item">
              <span class="ref-num">[3]</span>
              <div class="ref-body">
                <strong>W. Ogieglo</strong>, T. Puspasari, X. Ma, I. Pinnau. Sub-100 nm carbon molecular sieve membranes from a polymer of intrinsic microporosity precursor: Physical aging and near-equilibrium gas separation properties.
                <em>Journal of Membrane Science</em> 597 (2020) 117752.
                <br><a href="https://doi.org/10.1016/j.memsci.2019.117752" target="_blank" rel="noopener noreferrer" class="ref-link">DOI â†—</a>
              </div>
            </li>

            <li class="ref-item">
              <span class="ref-num">[4]</span>
              <div class="ref-body">
                <strong>W. Ogieglo</strong>, T. Puspasari, M.K. Hota, N. Wehbe, H.N. Alshareef, I. Pinnau. Nanohybrid thin-film composite carbon molecular sieve membranes.
                <em>Materials Today Nano</em> 9 (2020) 100065.
                <br><a href="https://doi.org/10.1016/j.mtnano.2019.100065" target="_blank" rel="noopener noreferrer" class="ref-link">DOI â†—</a>
              </div>
            </li>

            <li class="ref-item">
              <span class="ref-num">[5]</span>
              <div class="ref-body">
                <strong>W. Ogieglo</strong>, J.A. Idarraga-Mora, S.M. Husson, I. Pinnau. Direct ellipsometry for non-destructive characterization of interfacially-polymerized thin-film composite membranes.
                <em>Journal of Membrane Science</em> 608 (2020).
                <br><a href="https://doi.org/10.1016/j.memsci.2020.118174" target="_blank" rel="noopener noreferrer" class="ref-link">DOI â†—</a>
              </div>
            </li>

            <li class="ref-item">
              <span class="ref-num">[6]</span>
              <div class="ref-body">
                <strong>W. Ogieglo</strong>, G. Genduso, J. Rubner, J. Hofmann-PrÃ©veraud de Vaumas, M. Wessling, I. Pinnau. COâ‚‚/CHâ‚„ pure- and mixed-gas dilation and sorption in thin (~500 nm) and ultrathin (~50 nm) polymers of intrinsic microporosity.
                <em>Macromolecules</em> 53(20) (2020) 8765â€“8774.
                <br><a href="https://doi.org/10.1021/acs.macromol.0c01163" target="_blank" rel="noopener noreferrer" class="ref-link">DOI â†—</a>
              </div>
            </li>

            <li class="ref-item">
              <span class="ref-num">[7]</span>
              <div class="ref-body">
                <strong>W. Ogieglo</strong>, A. Furchner, X. Ma, K. Hazazi, A.T. Alhazmi, I. Pinnau. Thin composite carbon molecular sieve membranes from a polymer of intrinsic microporosity precursor.
                <em>ACS Applied Materials &amp; Interfaces</em> 11(20) (2019) 18770â€“18781.
                <br><a href="https://doi.org/10.1021/acsami.9b04602" target="_blank" rel="noopener noreferrer" class="ref-link">DOI â†—</a>
              </div>
            </li>

            <li class="ref-item">
              <span class="ref-num">[8]</span>
              <div class="ref-body">
                <strong>W. Ogieglo</strong>, B. Ghanem, X. Ma, M. Wessling, I. Pinnau. High-pressure COâ‚‚ sorption in polymers of intrinsic microporosity under ultrathin film confinement.
                <em>ACS Applied Materials &amp; Interfaces</em> 10(13) (2018) 11369â€“11376.
                <br><a href="https://doi.org/10.1021/acsami.8b01402" target="_blank" rel="noopener noreferrer" class="ref-link">DOI â†—</a>
              </div>
            </li>

            <li class="ref-item">
              <span class="ref-num">[9]</span>
              <div class="ref-body">
                <strong>W. Ogieglo</strong>, K. Tempelman, S. Napolitano, N.E. Benes. Evidence of a transition layer between the free surface and the bulk.
                <em>Journal of Physical Chemistry Letters</em> 9(6) (2018) 1195â€“1199.
                <br><a href="https://doi.org/10.1021/acs.jpclett.8b00076" target="_blank" rel="noopener noreferrer" class="ref-link">DOI â†—</a>
              </div>
            </li>

            <li class="ref-item">
              <span class="ref-num">[10]</span>
              <div class="ref-body">
                <strong>W. Ogieglo</strong>, I. Pinnau, M. Wessling. In-situ non-invasive imaging of liquid-immersed thin film composite membranes.
                <em>Journal of Membrane Science</em> 546 (2018) 206â€“214.
                <br><a href="https://doi.org/10.1016/j.memsci.2017.10.027" target="_blank" rel="noopener noreferrer" class="ref-link">DOI â†—</a>
              </div>
            </li>

            <li class="ref-item">
              <span class="ref-num">[11]</span>
              <div class="ref-body">
                <strong>W. Ogieglo</strong>, K. Rahimi, S.B. Rauer, B. Ghanem, X. Ma, I. Pinnau, M. Wessling. How do organic vapors swell ultrathin films of polymer of intrinsic microporosity PIM-1?
                <em>The Journal of Physical Chemistry B</em> 121(29) (2017) 7210â€“7220.
                <br><a href="https://doi.org/10.1021/acs.jpcb.7b03891" target="_blank" rel="noopener noreferrer" class="ref-link">DOI â†—</a>
              </div>
            </li>

            <li class="ref-item">
              <span class="ref-num">[12]</span>
              <div class="ref-body">
                <strong>W. Ogieglo</strong>, A. Furchner, B. Ghanem, X. Ma, I. Pinnau, M. Wessling. Mixed-penetrant sorption in ultrathin films of polymer of intrinsic microporosity PIM-1.
                <em>The Journal of Physical Chemistry B</em> 121(43) (2017) 10190â€“10197.
                <br><a href="https://doi.org/10.1021/acs.jpcb.7b10061" target="_blank" rel="noopener noreferrer" class="ref-link">DOI â†—</a>
              </div>
            </li>

            <li class="ref-item">
              <span class="ref-num">[13]</span>
              <div class="ref-body">
                <strong>W. Ogieglo</strong>, Z.P. Madzarevic, M.J.T. Raaijmakers, T.J. Dingemans, N.E. Benes. High-pressure sorption of carbon dioxide and methane in all-aromatic poly(etherimide)-based membranes.
                <em>Journal of Polymer Science Part B: Polymer Physics</em> 54(10) (2016) 986â€“993.
                <br><a href="https://doi.org/10.1002/polb.24001" target="_blank" rel="noopener noreferrer" class="ref-link">DOI â†—</a>
              </div>
            </li>

            <li class="ref-item">
              <span class="ref-num">[14]</span>
              <div class="ref-body">
                <strong>W. Ogieglo</strong>, B. Ghanem, X. Ma, I. Pinnau, M. Wessling. How much do ultrathin polymers with intrinsic microporosity swell in liquids?
                <em>The Journal of Physical Chemistry B</em> 120(39) (2016) 10403â€“10410.
                <br><a href="https://doi.org/10.1021/acs.jpcb.6b06807" target="_blank" rel="noopener noreferrer" class="ref-link">DOI â†—</a>
              </div>
            </li>

            <li class="ref-item">
              <span class="ref-num">[15]</span>
              <div class="ref-body">
                <strong>W. Ogieglo</strong>, H. Wormeester, K.-J. Eichhorn, M. Wessling, N.E. Benes. In situ ellipsometry studies on swelling of thin polymer films: A review.
                <em>Progress in Polymer Science</em> (2014).
                <br><a href="https://doi.org/10.1016/j.progpolymsci.2014.09.004" target="_blank" rel="noopener noreferrer" class="ref-link">DOI â†—</a>
              </div>
            </li>

            <li class="ref-item">
              <span class="ref-num">[16]</span>
              <div class="ref-body">
                <strong>W. Ogieglo</strong>, L. Upadhyaya, M. Wessling, A. Nijmeijer, N.E. Benes. Effects of time, temperature, and pressure in the vicinity of the glass transition of a swollen polymer.
                <em>Journal of Membrane Science</em> 464 (2014) 80â€“85.
                <br><a href="https://doi.org/10.1016/j.memsci.2014.04.013" target="_blank" rel="noopener noreferrer" class="ref-link">DOI â†—</a>
              </div>
            </li>

            <li class="ref-item">
              <span class="ref-num">[17]</span>
              <div class="ref-body">
                <strong>W. Ogieglo</strong>, H. Wormeester, M. Wessling, N.E. Benes. Effective medium approximations for penetrant sorption in glassy polymers accounting for excess free volume.
                <em>Polymer</em> 55(7) (2014) 1737â€“1744.
                <br><a href="https://doi.org/10.1016/j.polymer.2014.02.040" target="_blank" rel="noopener noreferrer" class="ref-link">DOI â†—</a>
              </div>
            </li>

            <li class="ref-item">
              <span class="ref-num">[18]</span>
              <div class="ref-body">
                <strong>W. Ogieglo</strong>, M. Wessling, N.E. Benes. Polymer relaxations in thin films in the vicinity of a penetrant- or temperature-induced glass transition.
                <em>Macromolecules</em> 47(11) (2014) 3654â€“3660.
                <br><a href="https://doi.org/10.1021/ma5002707" target="_blank" rel="noopener noreferrer" class="ref-link">DOI â†—</a>
              </div>
            </li>

            <li class="ref-item">
              <span class="ref-num">[19]</span>
              <div class="ref-body">
                <strong>W. Ogieglo</strong>, H. van der Werf, K. Tempelman, H. Wormeester, M. Wessling, A. Nijmeijer, N.E. Benes. N-hexane induced swelling of thin PDMS films under non-equilibrium nanofiltration permeation conditions, resolved by spectroscopic ellipsometry.
                <em>Journal of Membrane Science</em> 437 (2013) 313â€“323.
                <br><a href="https://doi.org/10.1016/j.memsci.2013.04.039" target="_blank" rel="noopener noreferrer" class="ref-link">DOI â†—</a>
              </div>
            </li>

            <li class="ref-item">
              <span class="ref-num">[20]</span>
              <div class="ref-body">
                <strong>W. Ogieglo</strong>, J. de Grooth, H. Wormeester, M. Wessling, K. Nijmeijer, N.E. Benes. Relaxation induced optical anisotropy during dynamic overshoot swelling of zwitterionic polymer films.
                <em>Thin Solid Films</em> 545 (2013) 320â€“326.
                <br><a href="https://doi.org/10.1016/j.tsf.2013.07.077" target="_blank" rel="noopener noreferrer" class="ref-link">DOI â†—</a>
              </div>
            </li>

            <li class="ref-item">
              <span class="ref-num">[21]</span>
              <div class="ref-body">
                <strong>W. Ogieglo</strong>, H. Wormeester, M. Wessling, N.E. Benes. Probing the surface swelling in ultra-thin supported polystyrene films during Case II diffusion of n-hexane.
                <em>Macromolecular Chemistry and Physics</em> 214(21) (2013) 2480â€“2488.
                <br><a href="https://doi.org/10.1002/macp.201300371" target="_blank" rel="noopener noreferrer" class="ref-link">DOI â†—</a>
              </div>
            </li>

            <li class="ref-item">
              <span class="ref-num">[22]</span>
              <div class="ref-body">
                <strong>W. Ogieglo</strong>, H. Wormeester, M. Wessling, N.E. Benes. Temperature-induced transition of the diffusion mechanism of n-hexane in ultra-thin polystyrene films, resolved by in-situ spectroscopic ellipsometry.
                <em>Polymer</em> 54(1) (2013) 341â€“348.
                <br><a href="https://doi.org/10.1016/j.polymer.2012.11.038" target="_blank" rel="noopener noreferrer" class="ref-link">DOI â†—</a>
              </div>
            </li>

            <li class="ref-item">
              <span class="ref-num">[23]</span>
              <div class="ref-body">
                <strong>W. Ogieglo</strong>, H. Wormeester, M. Wessling, N.E. Benes. Spectroscopic ellipsometry analysis of a thin film composite membrane consisting of polysulfone on a porous Î±-alumina support.
                <em>ACS Applied Materials &amp; Interfaces</em> (2012).
                <br><a href="https://pubs.acs.org/doi/10.1021/am2015958" target="_blank" rel="noopener noreferrer" class="ref-link">DOI â†—</a>
              </div>
            </li>

          </ol>
        </div>
      </div>
    </section>

  </main>

  <!-- FOOTER -->
  <footer role="contentinfo">
    <div class="footer-inner">
      <span class="brand-small">OptiFluid <span class="accent">Analytics</span></span>
      <nav class="footer-links" aria-label="Footer navigation">
        <a href="#services">Services</a>
        <a href="#about">About</a>
        <a href="#contact">Contact</a>
        <a href="#references">References</a>
      </nav>
      <span class="footer-legal">Â© <span id="yr"></span> In-situ ellipsometry Â· KAUST</span>
    </div>
  </footer>

  <!-- TOAST -->
  <div id="toast" role="status" aria-live="polite" aria-atomic="true">
    <span class="toast-icon" aria-hidden="true">âœ“</span>
    <span id="toast-msg">Request sent successfully!</span>
  </div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       JAVASCRIPT
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <script>
    'use strict';

    /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
       SCROLL TO TOP ON LOAD
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    if (history.scrollRestoration) history.scrollRestoration = 'manual';
    window.scrollTo(0, 0);

    /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
       FOOTER YEAR
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    document.getElementById('yr').textContent = new Date().getFullYear();

    /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
       HEADER SCROLL SHADOW
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    const header = document.getElementById('site-header');
    const onScroll = () => header.classList.toggle('scrolled', window.scrollY > 20);
    window.addEventListener('scroll', onScroll, { passive: true });

    /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
       MOBILE MENU
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    const menuToggle = document.getElementById('menu-toggle');
    const mobileMenu = document.getElementById('mobile-menu');

    function toggleMenu(open) {
      menuToggle.classList.toggle('open', open);
      mobileMenu.classList.toggle('open', open);
      menuToggle.setAttribute('aria-expanded', String(open));
      document.body.style.overflow = open ? 'hidden' : '';
    }

    menuToggle.addEventListener('click', () => toggleMenu(!menuToggle.classList.contains('open')));
    mobileMenu.querySelectorAll('a').forEach(a => a.addEventListener('click', () => toggleMenu(false)));

    // Close on Escape
    document.addEventListener('keydown', e => {
      if (e.key === 'Escape' && mobileMenu.classList.contains('open')) toggleMenu(false);
    });

    /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
       SCROLL-IN REVEAL
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    const revealObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
          revealObserver.unobserve(entry.target);
        }
      });
    }, { threshold: 0.12, rootMargin: '0px 0px -40px 0px' });

    document.querySelectorAll('.reveal').forEach(el => revealObserver.observe(el));

    /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
       ACTIVE NAV LINK ON SCROLL
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    const sections = ['services', 'about', 'contact', 'references'];
    const navLinks = document.querySelectorAll('.nav-links a');

    const sectionObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          navLinks.forEach(l => l.classList.toggle('active', l.getAttribute('href') === '#' + entry.target.id));
        }
      });
    }, { threshold: 0.3 });

    sections.forEach(id => {
      const el = document.getElementById(id);
      if (el) sectionObserver.observe(el);
    });

    /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
       ANIMATED STAT COUNTERS
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    const counters = document.querySelectorAll('.count');
    const counterObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (!entry.isIntersecting) return;
        const el = entry.target;
        const target = parseInt(el.dataset.target, 10);
        const duration = 1200;
        const start = performance.now();
        const easeOut = t => 1 - Math.pow(1 - t, 3);

        function update(now) {
          const elapsed = now - start;
          const progress = Math.min(elapsed / duration, 1);
          el.textContent = Math.round(easeOut(progress) * target);
          if (progress < 1) requestAnimationFrame(update);
        }
        requestAnimationFrame(update);
        counterObserver.unobserve(el);
      });
    }, { threshold: 0.5 });

    counters.forEach(c => counterObserver.observe(c));

    /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
       TOAST HELPER
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    function showToast(msg, type = 'success') {
      const toast = document.getElementById('toast');
      const icon  = toast.querySelector('.toast-icon');
      toast.querySelector('#toast-msg').textContent = msg;
      icon.textContent = type === 'success' ? 'âœ“' : 'âœ•';
      toast.className = `show ${type}`;
      setTimeout(() => { toast.className = ''; }, 5000);
    }

    /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
       FORM VALIDATION & SUBMISSION
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    const form   = document.getElementById('contact-form');
    const submitBtn = form.querySelector('.submit-btn');

    const validators = {
      'inp-name':    { fieldId: 'field-name',    errId: 'err-name',    test: v => v.trim().length >= 2 },
      'inp-email':   { fieldId: 'field-email',   errId: 'err-email',   test: v => /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v.trim()) },
      'inp-usecase': { fieldId: 'field-usecase', errId: 'err-usecase', test: v => v !== '' },
      'inp-message': { fieldId: 'field-message', errId: 'err-message', test: v => v.trim().length >= 10 },
    };

    function validateField(id) {
      const input = document.getElementById(id);
      const rule  = validators[id];
      const valid = rule.test(input.value);
      document.getElementById(rule.fieldId).classList.toggle('has-error', !valid);
      input.classList.toggle('error', !valid);
      return valid;
    }

    // Live validation on blur
    Object.keys(validators).forEach(id => {
      const el = document.getElementById(id);
      el.addEventListener('blur', () => validateField(id));
      el.addEventListener('input', () => {
        if (el.classList.contains('error')) validateField(id);
      });
    });

    // Mirror email for reply-to
    document.getElementById('inp-email').addEventListener('input', e => {
      document.getElementById('reply-to-hidden').value = e.target.value;
    });

    form.addEventListener('submit', async (e) => {
      e.preventDefault();

      // Validate all fields
      const allValid = Object.keys(validators).map(validateField).every(Boolean);
      if (!allValid) {
        const firstError = form.querySelector('.error');
        firstError?.focus();
        return;
      }

      // UI: loading state
      submitBtn.disabled = true;
      submitBtn.classList.add('loading');

      try {
        const data = new FormData(form);
        const response = await fetch(form.action, {
          method: 'POST',
          body: data,
          headers: { Accept: 'application/json' },
        });

        if (response.ok) {
          showToast('Request sent! We\'ll be in touch soon.', 'success');
          form.reset();
          // Clear error states
          form.querySelectorAll('.has-error').forEach(f => f.classList.remove('has-error'));
          form.querySelectorAll('.error').forEach(f => f.classList.remove('error'));
        } else {
          const body = await response.json().catch(() => ({}));
          const msg = body?.errors?.[0]?.message || 'Submission failed. Please try emailing directly.';
          showToast(msg, 'error');
        }
      } catch (err) {
        showToast('Network error. Please try emailing wojciech.ogieglo@kaust.edu.sa directly.', 'error');
      } finally {
        submitBtn.disabled = false;
        submitBtn.classList.remove('loading');
      }
    });

  </script>
</body>
</html>
